(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,r){e.exports=r(40)},33:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var o=r(0),i=r.n(o),a=r(14),p=r.n(a),n=(r(33),r(13)),s=r(11),y=r(18),m=r(22),c=r(27),u=r(9),l=r(26),d=(r(39),r(8)),g={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[-86.4833,21.4]},properties:{timestamp:"2019-04-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.27628,21.80118]},properties:{timestamp:"2019-04-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.34106,21.48897]},properties:{timestamp:"2019-04-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.32156,21.57047]},properties:{timestamp:"2019-04-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5072,21.48743]},properties:{timestamp:"2019-04-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.42262,21.39659]},properties:{timestamp:"2019-04-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.40867,21.55695]},properties:{timestamp:"2019-04-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.36634,22.20572]},properties:{timestamp:"2019-04-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.35486,24.64667]},properties:{timestamp:"2019-04-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.81617,25.11889]},properties:{timestamp:"2019-04-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.12625,25.93838]},properties:{timestamp:"2019-05-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.10897,26.39053]},properties:{timestamp:"2019-05-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.83204,25.93948]},properties:{timestamp:"2019-05-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.15765,25.63753]},properties:{timestamp:"2019-05-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.3423,24.7297]},properties:{timestamp:"2019-05-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.408,24.8325]},properties:{timestamp:"2019-05-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.9457,25.5533]},properties:{timestamp:"2019-05-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.0748,25.7583]},properties:{timestamp:"2019-05-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.3259,26.064]},properties:{timestamp:"2019-05-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.3803,26.1912]},properties:{timestamp:"2019-05-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.8604,26.1052]},properties:{timestamp:"2019-05-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.9389,26.4915]},properties:{timestamp:"2019-05-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.0402,26.6895]},properties:{timestamp:"2019-05-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.992,27.1288]},properties:{timestamp:"2019-05-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.1627,27.5228]},properties:{timestamp:"2019-05-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.268,28.0049]},properties:{timestamp:"2019-05-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.3924,28.4792]},properties:{timestamp:"2019-05-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6332,28.838]},properties:{timestamp:"2019-05-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6409,28.8342]},properties:{timestamp:"2019-05-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.643,28.8017]},properties:{timestamp:"2019-05-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.8054,28.9754]},properties:{timestamp:"2019-05-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.9396,28.9743]},properties:{timestamp:"2019-05-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.4337,28.8195]},properties:{timestamp:"2019-05-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.7259,28.8908]},properties:{timestamp:"2019-05-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.6619,29.0438]},properties:{timestamp:"2019-05-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.0505,29.1441]},properties:{timestamp:"2019-05-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.2775,29.1767]},properties:{timestamp:"2019-05-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.3544,29.3881]},properties:{timestamp:"2019-05-31T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.0874,28.8788]},properties:{timestamp:"2019-06-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.388,28.6846]},properties:{timestamp:"2019-06-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.5699,28.3175]},properties:{timestamp:"2019-06-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.6168,28.3027]},properties:{timestamp:"2019-06-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.7688,28.6414]},properties:{timestamp:"2019-06-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.6962,28.9199]},properties:{timestamp:"2019-06-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6572,28.8758]},properties:{timestamp:"2019-06-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.5474,28.785]},properties:{timestamp:"2019-06-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.5789,28.747]},properties:{timestamp:"2019-06-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.669,28.7194]},properties:{timestamp:"2019-06-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.4568,28.8241]},properties:{timestamp:"2019-06-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.5428,28.8905]},properties:{timestamp:"2019-06-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6125,28.8181]},properties:{timestamp:"2019-06-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.8207,28.668]},properties:{timestamp:"2019-06-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.5639,28.8192]},properties:{timestamp:"2019-06-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.7895,28.9019]},properties:{timestamp:"2019-06-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.9589,28.9689]},properties:{timestamp:"2019-06-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.8077,29.0292]},properties:{timestamp:"2019-06-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.7029,28.5524]},properties:{timestamp:"2019-06-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.683,28.5205]},properties:{timestamp:"2019-06-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.57864,27.9222]},properties:{timestamp:"2019-06-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6548,27.8886]},properties:{timestamp:"2019-06-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.5196,27.9388]},properties:{timestamp:"2019-06-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.3834,28.0922]},properties:{timestamp:"2019-06-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.2841,28.0031]},properties:{timestamp:"2019-06-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.443,27.966]},properties:{timestamp:"2019-06-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.38917,27.8853]},properties:{timestamp:"2019-06-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.5659,27.2415]},properties:{timestamp:"2019-07-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.2224,26.9685]},properties:{timestamp:"2019-07-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.1263,27.0929]},properties:{timestamp:"2019-07-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.507,26.2052]},properties:{timestamp:"2019-07-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.502,26.1098]},properties:{timestamp:"2019-07-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.9493,25.5444]},properties:{timestamp:"2019-07-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.4236,24.3422]},properties:{timestamp:"2019-07-20T12:00:00"}}]},f={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[-86.49167,21.43]},properties:{timestamp:"2019-04-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.05759,21.52872]},properties:{timestamp:"2019-04-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.68464,21.77576]},properties:{timestamp:"2019-04-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.53502,21.82367]},properties:{timestamp:"2019-04-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.27728,21.58392]},properties:{timestamp:"2019-04-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.99284,21.26095]},properties:{timestamp:"2019-04-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.88227,20.45457]},properties:{timestamp:"2019-04-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.68792,19.97719]},properties:{timestamp:"2019-04-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.62215,19.90784]},properties:{timestamp:"2019-04-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.01759,19.82624]},properties:{timestamp:"2019-04-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.44961,19.28758]},properties:{timestamp:"2019-04-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.80562,19.21745]},properties:{timestamp:"2019-04-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.16422,19.86641]},properties:{timestamp:"2019-04-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.34894,21.95996]},properties:{timestamp:"2019-05-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.4286,22.0284]},properties:{timestamp:"2019-05-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.4289,21.5088]},properties:{timestamp:"2019-05-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.4456,21.3837]},properties:{timestamp:"2019-05-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.6505,22.4362]},properties:{timestamp:"2019-05-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.6891,22.5407]},properties:{timestamp:"2019-05-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5978,22.4151]},properties:{timestamp:"2019-05-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.2979,22.9805]},properties:{timestamp:"2019-05-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.8564,23.541]},properties:{timestamp:"2019-05-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.1368,23.4823]},properties:{timestamp:"2019-05-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0115,23.3517]},properties:{timestamp:"2019-05-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0009,23.3142]},properties:{timestamp:"2019-05-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.9723,23.1448]},properties:{timestamp:"2019-05-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.048,22.7719]},properties:{timestamp:"2019-05-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0568,22.729]},properties:{timestamp:"2019-05-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.7217,22.9195]},properties:{timestamp:"2019-05-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.196,22.9865]},properties:{timestamp:"2019-05-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.4172,23.0185]},properties:{timestamp:"2019-05-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0642,23.1962]},properties:{timestamp:"2019-05-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.09,23.2031]},properties:{timestamp:"2019-05-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.5491,23.8437]},properties:{timestamp:"2019-05-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.3358,23.2013]},properties:{timestamp:"2019-05-31T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0053,23.117]},properties:{timestamp:"2019-06-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.3551,23.9465]},properties:{timestamp:"2019-06-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.4418,24.1651]},properties:{timestamp:"2019-06-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.4901,23.8578]},properties:{timestamp:"2019-06-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.3116,23.83]},properties:{timestamp:"2019-06-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2014,23.7693]},properties:{timestamp:"2019-06-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.1721,23.7588]},properties:{timestamp:"2019-06-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2372,23.8447]},properties:{timestamp:"2019-06-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.9655,24.9336]},properties:{timestamp:"2019-06-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.7231,25.7537]},properties:{timestamp:"2019-06-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.2286,25.7672]},properties:{timestamp:"2019-06-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.7095,26.35]},properties:{timestamp:"2019-06-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.6254,26.2006]},properties:{timestamp:"2019-06-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.1163,25.7084]},properties:{timestamp:"2019-06-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.6553,23.709]},properties:{timestamp:"2019-06-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.5481,23.6264]},properties:{timestamp:"2019-06-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.6412,23.5507]},properties:{timestamp:"2019-06-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.2251,24.186]},properties:{timestamp:"2019-06-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.1422,24.27]},properties:{timestamp:"2019-06-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.1129,24.2348]},properties:{timestamp:"2019-06-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.851,24.392]},properties:{timestamp:"2019-06-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.8386,24.3263]},properties:{timestamp:"2019-06-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.9356,24.2263]},properties:{timestamp:"2019-07-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.9164,24.296]},properties:{timestamp:"2019-07-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.9903,24.3]},properties:{timestamp:"2019-07-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.5267,24.2948]},properties:{timestamp:"2019-07-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.5851,24.2673]},properties:{timestamp:"2019-07-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.34,24.2639]},properties:{timestamp:"2019-07-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.9902,24.2721]},properties:{timestamp:"2019-07-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.172,23.6997]},properties:{timestamp:"2019-07-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.3278,23.4486]},properties:{timestamp:"2019-07-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.3686,20.7588]},properties:{timestamp:"2019-07-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.3162,18.4325]},properties:{timestamp:"2019-07-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.287,18.011]},properties:{timestamp:"2019-07-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.4882,16.9175]},properties:{timestamp:"2019-07-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.3583,16.9237]},properties:{timestamp:"2019-07-31T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.7241,16.9417]},properties:{timestamp:"2019-08-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.4383,17.0205]},properties:{timestamp:"2019-08-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.2933,16.9683]},properties:{timestamp:"2019-08-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.2437,17.3626]},properties:{timestamp:"2019-08-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.7036,17.55]},properties:{timestamp:"2019-08-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.4706,17.1625]},properties:{timestamp:"2019-08-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.1051,17.1396]},properties:{timestamp:"2019-08-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.4967,21.9821]},properties:{timestamp:"2019-09-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.6203,22.3215]},properties:{timestamp:"2019-09-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.8608,22.3391]},properties:{timestamp:"2019-09-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.6322,22.2319]},properties:{timestamp:"2019-09-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5504,22.107]},properties:{timestamp:"2019-09-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.8099,22.2886]},properties:{timestamp:"2019-09-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.1199,22.392]},properties:{timestamp:"2019-09-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.1868,22.3579]},properties:{timestamp:"2019-09-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.025,22.2324]},properties:{timestamp:"2019-09-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0027,22.6356]},properties:{timestamp:"2019-09-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.1104,22.6666]},properties:{timestamp:"2019-09-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6221,23.5635]},properties:{timestamp:"2019-10-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.9286,23.7223]},properties:{timestamp:"2019-10-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.2099,23.6016]},properties:{timestamp:"2019-10-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.2179,23.5894]},properties:{timestamp:"2019-10-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6384,23.7161]},properties:{timestamp:"2019-10-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.0771,24.6452]},properties:{timestamp:"2019-10-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.2877,24.9234]},properties:{timestamp:"2019-10-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.0185,25.9083]},properties:{timestamp:"2019-10-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.925,26.5386]},properties:{timestamp:"2019-10-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.757,26.9799]},properties:{timestamp:"2019-10-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.7141,27.448]},properties:{timestamp:"2019-10-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.4845,27.7304]},properties:{timestamp:"2019-10-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.9423,27.5798]},properties:{timestamp:"2019-10-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.9743,27.9268]},properties:{timestamp:"2019-10-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-91.3419,28.077]},properties:{timestamp:"2019-10-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-91.8656,28.0312]},properties:{timestamp:"2019-10-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.4432,27.838]},properties:{timestamp:"2019-10-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.6173,27.3691]},properties:{timestamp:"2019-10-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.2183,26.3953]},properties:{timestamp:"2019-10-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.1104,25.9988]},properties:{timestamp:"2019-10-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.0602,23.9292]},properties:{timestamp:"2019-11-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.8192,23.6264]},properties:{timestamp:"2019-11-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2109,23.926]},properties:{timestamp:"2019-11-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.0476,23.7927]},properties:{timestamp:"2019-11-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.9864,23.7917]},properties:{timestamp:"2019-11-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.3451,23.6762]},properties:{timestamp:"2019-11-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2669,23.2369]},properties:{timestamp:"2019-11-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2247,23.2637]},properties:{timestamp:"2019-11-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.147,22.7497]},properties:{timestamp:"2019-11-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.2486,22.8446]},properties:{timestamp:"2019-11-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.5089,22.976]},properties:{timestamp:"2019-11-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6993,23.206]},properties:{timestamp:"2019-11-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6278,23.4882]},properties:{timestamp:"2019-11-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6603,23.4774]},properties:{timestamp:"2019-11-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6082,23.4648]},properties:{timestamp:"2019-11-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.6184,23.562]},properties:{timestamp:"2019-11-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.3366,23.4925]},properties:{timestamp:"2019-11-23T12:00:00"}}]},T={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[-86.485,21.4183]},properties:{timestamp:"2019-04-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.10522,22.06932]},properties:{timestamp:"2019-04-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.16058,22.69493]},properties:{timestamp:"2019-04-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.16741,23.07861]},properties:{timestamp:"2019-04-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.306,23.87076]},properties:{timestamp:"2019-04-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.16653,24.42627]},properties:{timestamp:"2019-04-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.90691,24.70236]},properties:{timestamp:"2019-04-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.45619,25.01492]},properties:{timestamp:"2019-04-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.20468,25.10915]},properties:{timestamp:"2019-04-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.827,24.92105]},properties:{timestamp:"2019-04-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.46069,24.46867]},properties:{timestamp:"2019-04-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.0024,24.02022]},properties:{timestamp:"2019-04-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.72105,23.78424]},properties:{timestamp:"2019-04-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.15038,24.02658]},properties:{timestamp:"2019-04-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.84523,24.21504]},properties:{timestamp:"2019-04-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.25241,24.31937]},properties:{timestamp:"2019-05-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.52278,24.58208]},properties:{timestamp:"2019-05-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.13611,24.8739]},properties:{timestamp:"2019-05-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.9391,27.834]},properties:{timestamp:"2019-05-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0278,28.289]},properties:{timestamp:"2019-05-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.1495,28.856]},properties:{timestamp:"2019-05-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.2563,30.0134]},properties:{timestamp:"2019-05-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.2632,30.121]},properties:{timestamp:"2019-05-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80,30.6603]},properties:{timestamp:"2019-05-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.752,31.354]},properties:{timestamp:"2019-05-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.7133,31.768]},properties:{timestamp:"2019-05-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.7263,31.7198]},properties:{timestamp:"2019-05-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.5367,32.0728]},properties:{timestamp:"2019-05-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.6173,31.7833]},properties:{timestamp:"2019-05-15T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.8834,32.5456]},properties:{timestamp:"2019-05-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.1512,32.766]},properties:{timestamp:"2019-05-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.1265,32.8423]},properties:{timestamp:"2019-05-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.8723,32.9748]},properties:{timestamp:"2019-05-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.312,33.4151]},properties:{timestamp:"2019-05-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.9597,34.4464]},properties:{timestamp:"2019-05-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.437,34.4833]},properties:{timestamp:"2019-05-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.7583,34.2822]},properties:{timestamp:"2019-05-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.6494,33.9453]},properties:{timestamp:"2019-05-25T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.6333,33.103]},properties:{timestamp:"2019-05-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.7303,32.6627]},properties:{timestamp:"2019-05-27T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.5252,31.672]},properties:{timestamp:"2019-05-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.2807,30.811]},properties:{timestamp:"2019-05-29T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.2831,30.813]},properties:{timestamp:"2019-05-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.992,30.5993]},properties:{timestamp:"2019-05-31T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.8278,29.7451]},properties:{timestamp:"2019-06-04T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.4674,30.1977]},properties:{timestamp:"2019-06-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.5239,29.7452]},properties:{timestamp:"2019-06-07T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.2844,28.9807]},properties:{timestamp:"2019-06-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0927,28.2117]},properties:{timestamp:"2019-06-09T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.8361,27.1414]},properties:{timestamp:"2019-06-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.8633,25.2387]},properties:{timestamp:"2019-06-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0638,25.1861]},properties:{timestamp:"2019-06-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0917,25.1259]},properties:{timestamp:"2019-06-20T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0759,24.9885]},properties:{timestamp:"2019-06-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.0553,25.0809]},properties:{timestamp:"2019-06-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.7762,25.1]},properties:{timestamp:"2019-06-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.1125,25.3611]},properties:{timestamp:"2019-06-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.5591,24.5097]},properties:{timestamp:"2019-06-30T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.5701,24.4974]},properties:{timestamp:"2019-07-01T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.4143,24.334]},properties:{timestamp:"2019-07-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.943,23.2373]},properties:{timestamp:"2019-07-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.1037,23.3291]},properties:{timestamp:"2019-07-10T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.1784,23.4228]},properties:{timestamp:"2019-07-11T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.283,23.5754]},properties:{timestamp:"2019-07-12T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.9123,23.9641]},properties:{timestamp:"2019-07-13T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.4328,23.5202]},properties:{timestamp:"2019-07-14T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.788,21.9917]},properties:{timestamp:"2019-07-18T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5882,21.8239]},properties:{timestamp:"2019-07-26T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5251,21.407]},properties:{timestamp:"2019-07-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.7324,22.0774]},properties:{timestamp:"2019-08-16T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.2063,22.3237]},properties:{timestamp:"2019-08-21T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.3353,21.953]},properties:{timestamp:"2019-08-22T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.0824,22.0354]},properties:{timestamp:"2019-08-23T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.7796,22.3398]},properties:{timestamp:"2019-08-24T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.7112,22.0406]},properties:{timestamp:"2019-09-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.6076,22.0332]},properties:{timestamp:"2019-09-03T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.0925,21.4758]},properties:{timestamp:"2019-09-19T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.3125,21.4746]},properties:{timestamp:"2019-09-28T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.8693,21.0357]},properties:{timestamp:"2019-10-05T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5282,21.029]},properties:{timestamp:"2019-10-06T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.4068,21.8033]},properties:{timestamp:"2019-10-17T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.496,24.1127]},properties:{timestamp:"2019-11-02T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.522,24.9954]},properties:{timestamp:"2019-11-08T12:00:00"}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.892,24.834]},properties:{timestamp:"2019-11-09T12:00:00"}}]},P=function e(){var t=this;Object(d.a)(this,e),this.type="track",this._getStyleSources=function(e){var t=new Date(e.start).getTime(),r=new Date(e.end).getTime(),o=[null,g,f,T][e.index].features,i={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}}]};o.forEach(function(e){var o=new Date(e.properties.timestamp).getTime();o>t&&o<r&&i.features[0].geometry.coordinates.push(e.geometry.coordinates)});var a={type:"geojson",data:i};return[Object(y.a)({id:e.id},a)]},this._getStyleLayers=function(e){return[{id:"".concat(e.id,"_lines"),source:e.id,type:"line",paint:{"line-width":2,"line-color":e.color}}]},this.getStyle=function(e){return{id:e.id,sources:t._getStyleSources(e),layers:t._getStyleLayers(e)}}},F=new u.d({generators:Object(y.a)({},u.e,{track:new P})}),h=[u.f],v=function(){var e=Object(o.useState)({latitude:27,longitude:-77,zoom:4}),t=Object(s.a)(e,2),r=t[0],a=t[1],p=Object(o.useState)("grid"),y=Object(s.a)(p,2),d=y[0],g=(y[1],Object(o.useState)(!0)),f=Object(s.a)(g,2),T=f[0],P=f[1],v=Object(o.useState)(!1),b=Object(s.a)(v,2),S=b[0],w=b[1],O=Object(o.useState)(!1),_=Object(s.a)(O,2),E=_[0],j=_[1],k=Object(o.useState)(!1),x=Object(s.a)(k,2),D=x[0],L=x[1],A=Object(o.useState)({start:"2019-09-01T00:00:00.000Z",end:"2019-10-01T00:00:00.000Z"}),C=Object(s.a)(A,2),R=C[0],z=C[1],B=Object(o.useState)(!1),M=Object(s.a)(B,2),G=(M[0],M[1]),I=Object(o.useRef)();Object(o.useEffect)(function(){var e=I.current.getMap();return e.on("idle",function(){console.log("idle"),G(!0)}),function(){e.off("idle")}},[I]);var N=Object(o.useMemo)(function(){var e=[{id:"background",type:u.c.BACKGROUND,color:E?"#000":"#0c276c"},{type:u.c.BASEMAP,id:"graticules"},{type:u.c.BASEMAP,id:"landmass"}];return T&&(e=[].concat(Object(n.a)(e),[{id:"heatmap-anim",type:u.c.HEATMAP_TYPE,tileset:"fishing_demo",start:R.start,end:R.end,zoom:r.zoom,visible:D,colorRampMult:.4,colorRamp:u.a.FISHING,geomType:u.b.BLOB,updateColorRampOnTimeChange:!1,singleFrame:!1},{id:"heatmap",type:u.c.HEATMAP_TYPE,tileset:"fishing_demo",start:R.start,end:R.end,zoom:r.zoom,visible:!D,colorRampMult:.4,colorRamp:u.a.FISHING,geomType:"extruded"===d?u.b.EXTRUDED:u.b.GRIDDED,updateColorRampOnTimeChange:!1,singleFrame:!1}])),S&&(e=[].concat(Object(n.a)(e),[{id:"track",type:"track",start:R.start,end:R.end,index:1,color:"#ff00ff"},{id:"track2",type:"track",start:R.start,end:R.end,index:2,color:"#ff0000"},{id:"track3",type:"track",start:R.start,end:R.end,index:3,color:"#ffff00"}])),e},[R.end,R.start,T,d,E,S,D,r.zoom]),U=Object(c.a)(F,h,N),H=Object(s.a)(U,1)[0],q=Object(o.useState)(null),W=Object(s.a)(q,2),$=W[0],J=W[1],Y=H&&T&&H.layers[2]&&H.layers[2].metadata&&H.layers[2].metadata.currentlyAt;return console.log(H),i.a.createElement("div",{className:"container"},i.a.createElement("ul",{className:"layers"},i.a.createElement("img",{src:"https://globalfishingwatch.org/wp-content/uploads/logolight_small-1.png",srcset:"https://globalfishingwatch.org/wp-content/uploads/logolight_small-1.png 1x, https://globalfishingwatch.org/wp-content/uploads/logolight_retina-1.png 2x",width:"210",height:"55",alt:"Global Fishing Watch Logo",retina_logo_url:"https://globalfishingwatch.org/wp-content/uploads/logolight_retina-1.png"}),i.a.createElement("li",null,i.a.createElement("input",{type:"checkbox",checked:S,onChange:function(e){return w(e.target.checked)}}),"Sharks Telemetry Tracks"),i.a.createElement("li",null,i.a.createElement("input",{type:"checkbox",checked:T,onChange:function(e){return P(e.target.checked)}}),"AIS Fishing Activity"),i.a.createElement("li",null,i.a.createElement("input",{type:"checkbox",checked:E,onChange:function(e){return j(e.target.checked)}}),"Sea Surface Temperature")),i.a.createElement("div",{className:"map"},i.a.createElement(m.b,Object.assign({ref:I,width:"100%",height:"100%"},r,{onViewportChange:function(e){return a(e)},mapStyle:H,interactiveLayerIds:T?["heatmap"]:[],onHover:function(e){if(e.features&&e.features.length&&Y){var t=e.features[0].properties.info.split(",");if(e.features[0].properties[Y])return void J({value:t[Y],lngLat:e.lngLat})}J(null)},mapOptions:{hash:!0,showTileBoundaries:!0}}),$&&i.a.createElement(m.a,{longitude:$.lngLat[0],latitude:$.lngLat[1],closeButton:!1,closeOnClick:!1,anchor:"top"},i.a.createElement("div",{className:"popup"},$.value," vessel positions")))),i.a.createElement("div",{className:"timebar",onMouseEnter:function(){L(!0)},onMouseLeave:function(){L(!1),G(!1)}},i.a.createElement(l.a,{enablePlayback:!0,start:R.start,end:R.end,absoluteStart:"2019-01-01T00:00:00.000Z",absoluteEnd:"2020-01-01T00:00:00.000Z",onChange:function(e,t){z({start:e,end:t})}})))},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}p.a.render(i.a.createElement(v,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fourwings-demo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/fourwings-demo","/fourwings-worker.js");b?(function(e,t){fetch(e).then(function(r){var o=r.headers.get("content-type");404===r.status||null!=o&&-1===o.indexOf("javascript")?(console.log("???"),navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})})):(console.log("valid"),S(e,t))}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):S(t,e)})}}()},9:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return Tt}),r.d(t,"b",function(){return gt}),r.d(t,"c",function(){return bt}),r.d(t,"e",function(){return St}),r.d(t,"f",function(){return jt});var o,i=function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]])}return r}function p(e,t,r,o){return new(r||(r=Promise))(function(i,a){function p(e){try{s(o.next(e))}catch(t){a(t)}}function n(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(p,n)}s((o=o.apply(e,t||[])).next())})}function n(e,t){var r,o,i,a,p={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function n(a){return function(n){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;p;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return p.label++,{value:a[1],done:!1};case 5:p.label++,o=a[1],a=[0];continue;case 7:a=p.ops.pop(),p.trys.pop();continue;default:if(!(i=(i=p.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){p=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){p.label=a[1];break}if(6===a[0]&&p.label<i[1]){p.label=i[1],i=a;break}if(i&&p.label<i[2]){p.label=i[2],p.ops.push(a);break}i[2]&&p.ops.pop(),p.trys.pop();continue}a=t.call(e,p)}catch(n){a=[6,n],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,n])}}}function s(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],p=0,n=a.length;p<n;p++,i++)o[i]=a[p];return o}!function(e){e.Background="background",e.Basemap="basemap",e.Heatmap="heatmap",e.BasemapFill="basemapFill",e.OutlinePolygons="outlinePolygons",e.Default="default",e.Point="point",e.Track="track",e.BasemapForeground="BasemapForeground",e.Label="label",e.Overlay="overlay"}(o||(o={}));var y,m,c="BACKGROUND",u=function(){return function(){var e=this;this.type=c,this._getStyleLayers=function(e){return[{id:"background",type:"background",layout:{visibility:void 0!==e.visible?e.visible?"visible":"none":"visible"},paint:{"background-color":e.color||"#001436"},metadata:{group:o.Background}}]},this.getStyle=function(t){return{id:t.id,sources:[],layers:e._getStyleLayers(t)}}}}(),l="satellite",d="landmass",g="graticules",f=((y={})[l]={type:"raster",id:l,source:l,metadata:{group:o.Basemap}},y[d]={type:"fill",id:d,source:"basemap_vector","source-layer":d,metadata:{group:o.BasemapFill},paint:{"fill-color":"#374A6D","fill-opacity":.99}},y[g]={type:"line",id:g,source:"basemap_vector","source-layer":"graticules",metadata:{group:o.BasemapForeground},paint:{"line-color":"#ffffff","line-opacity":{base:1,stops:[[0,.2],[8,.2],[9,.2]]},"line-width":.5}},y),T=((m={})[l]={tiles:["https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}","https://mt2.google.com/vt/lyrs=s&x={x}&y={y}&z={z}","https://mt3.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"],type:"raster",tileSize:256},m.basemap_vector={type:"vector",tiles:["https://storage.googleapis.com/public-tiles/tiles-basemap/{z}/{x}/{y}.pbf"],maxzoom:8},m),P="BASEMAP",F=function(){return function(){var e=this;this.type=P,this._getStyleSources=function(e){var t=f[e.id].source,r=T[t];return[i({id:t},r)]},this._getStyleLayers=function(e){return[f[e.id]]},this.getStyle=function(t){return{id:t.id,sources:e._getStyleSources(t),layers:e._getStyleLayers(t)}}}}(),h="GL_STYLES",v=function(){return function(){var e=this;this.type=h,this._getStyleSources=function(e){return e.sources.map(function(t){return i({id:""+e.id},t)})},this._getStyleLayers=function(e){var t={visibility:void 0!==e.visible?e.visible?"visible":"none":"visible"};return e.layers.map(function(r,o){return i(i({id:e.id+"-"+o,source:e.id},r),{layout:i(i({},t),r.layout)})})},this.getStyle=function(t){return{id:t.id,sources:e._getStyleSources(t),layers:e._getStyleLayers(t)}}}}(),b={cp_rfmo:{source:{sql:"SELECT the_geom, the_geom_webmercator, cartodb_id, id FROM carrier_portal_rfmo_hi_res",type:"vector"},layers:[{id:"cp_rfmo",type:"fill",source:"cp_rfmo","source-layer":"cp_rfmo",metadata:{group:o.OutlinePolygons}}]},mpant:{source:{sql:"select * FROM wdpa_no_take_mpas",type:"vector",attribution:"MPA: Protected Planet WDPA"},layers:[{id:"mpant",type:"fill",source:"mpant","source-layer":"mpant",metadata:{group:o.OutlinePolygons}},{id:"mpant-labels",type:"symbol",source:"mpant","source-layer":"mpant",layout:{"text-field":"{name}","text-font":["Roboto Mono Light"],"text-size":10},metadata:{group:o.Label}}]},eez:{source:{sql:"SELECT cartodb_id, the_geom, the_geom_webmercator, geoname as name, 'eez:' || mrgid as region_id, geoname as reporting_name, 'eez:' || mrgid as reporting_id FROM eez",type:"vector",attribution:"EEZs: marineregions.org"},layers:[{id:"eez",type:"fill",source:"eez","source-layer":"eez",metadata:{group:o.OutlinePolygons}},{id:"eez-labels",type:"symbol",source:"eez","source-layer":"eez",layout:{"text-field":"{name}","text-font":["Roboto Mono Light"],"text-size":10},metadata:{group:o.Label}}]},bluefin_rfmo:{source:{sql:"SELECT the_geom, the_geom_webmercator, cartodb_id FROM bluefin_rfmo",type:"vector"},layers:[{id:"bluefin_rfmo",type:"fill",source:"bluefin_rfmo","source-layer":"bluefin_rfmo",metadata:{group:o.OutlinePolygons}}]},landmass:{source:{sql:"SELECT the_geom, the_geom_webmercator, cartodb_id FROM landmass",type:"vector"},layers:[{id:"landmass",type:"fill",source:"landmass","source-layer":"landmass"}]}},S="CARTO_POLYGONS",w="https://carto.globalfishingwatch.org/user/admin/api/v1/map",O=function(e){return p(void 0,void 0,void 0,function(){var t,r,o,i,a;return n(this,function(p){switch(p.label){case 0:return t=e.id,r=e.sql,o=e.baseUrl,i=JSON.stringify({version:"1.3.0",stat_tag:"API",layers:[{id:t,options:{sql:r}}]}),a=o+"?config="+encodeURIComponent(i),[4,fetch(a).then(function(e){if(e.status>=400)throw new Error("loading of layer failed "+t);return e.json()})];case 1:return[2,p.sent()]}})})},_=function(){return function(e){var t=this,r=e.baseUrl,o=void 0===r?w:r;this.type=S,this.tilesCacheByid={},this._getStyleSources=function(e){var r=e.id,o=b[e.id]||e,a={sources:[i(i({id:e.id},o.source),{tiles:[""]})]};try{return void 0!==t.tilesCacheByid[r]?(a.sources[0].tiles=t.tilesCacheByid[r],a):i(i({},a),{promise:p(t,void 0,void 0,function(){var t,p,s;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,O(i({id:r,baseUrl:e.baseUrl||this.baseUrl},o.source))];case 1:return t=n.sent().layergroupid,p=[w+"/"+t+"/{z}/{x}/{y}.mvt"],this.tilesCacheByid[r]=p,[2,this.getStyle(e)];case 2:return s=n.sent(),console.warn(s),[2,a];case 3:return[2]}})})})}catch(s){return console.warn(s),a}},this._getStyleLayers=function(e){var r=void 0!==t.tilesCacheByid[e.id];return(b[e.id]||e).layers.map(function(t){if(!r)return t;var o={visibility:void 0!==e.visible?e.visible?"visible":"none":"visible"},a={},p=void 0!==e.selectedFeatures&&e.selectedFeatures.values&&e.selectedFeatures.values.length;if("fill"===t.type){a["fill-opacity"]=void 0!==e.opacity?e.opacity:1;var n=e.fillColor||"rgba(0,0,0,0)";if(p){var y=e.selectedFeatures,m=y.field,c=void 0===m?"id":m,u=y.values,l=y.fill,d=void 0===l?{}:l,g=d.color,f=void 0===g?n:g,T=d.fillOutlineColor,P=void 0===T?e.color:T,F=["match",["get",c],u];a["fill-color"]=s(F,[f,n]),a["fill-outline-color"]=s(F,[P,e.color])}else a["fill-color"]=n,a["fill-outline-color"]=e.color}else if("circle"===t.type){var h=e.color||"#99eeff",v=e.opacity||1,b=e.strokeColor||"hsla(190, 100%, 45%, 0.5)",S=e.strokeWidth||2,w=e.radius||5;if(a["circle-color"]=h,a["circle-stroke-width"]=S,a["circle-radius"]=w,a["circle-stroke-color"]=b,p){var O=e.selectedFeatures,_=O.field,E=(c=void 0===_?"id":_,u=O.values,O.fallback),j=void 0===E?{}:E,k=j.color,x=(f=void 0===k?"rgba(50, 139, 169, 0.3)":k,j.opacity),D=void 0===x?1:x,L=j.strokeColor,A=void 0===L?"rgba(0,0,0,0)":L,C=j.strokeWidth,R=void 0===C?0:C;F=["match",["get",c],u],a["circle-color"]=s(F,[h,f]),a["circle-opacity"]=s(F,[v,D]),a["circle-stroke-color"]=s(F,[b,A]),a["circle-stroke-width"]=s(F,[S,R])}}return i(i({},t),{layout:o,paint:a})})},this.getStyle=function(e){var r=t._getStyleSources(e),o=r.sources,i=r.promise;return{id:e.id,promise:i,sources:o,layers:t._getStyleLayers(e)}},this.baseUrl=o}}();var E=function(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e},j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},k="object"==typeof j&&j&&j.Object===Object&&j,x="object"==typeof self&&self&&self.Object===Object&&self,D=k||x||Function("return this")(),L=D.Symbol,A=Object.prototype,C=A.hasOwnProperty,R=A.toString,z=L?L.toStringTag:void 0;var B=function(e){var t=C.call(e,z),r=e[z];try{e[z]=void 0;var o=!0}catch(a){}var i=R.call(e);return o&&(t?e[z]=r:delete e[z]),i},M=Object.prototype.toString;var G=function(e){return M.call(e)},I="[object Null]",N="[object Undefined]",U=L?L.toStringTag:void 0;var H=function(e){return null==e?void 0===e?N:I:U&&U in Object(e)?B(e):G(e)};var q=function(e){return null!=e&&"object"==typeof e},W="[object Arguments]";var $=function(e){return q(e)&&H(e)==W},J=Object.prototype,Y=J.hasOwnProperty,Z=J.propertyIsEnumerable,X=$(function(){return arguments}())?$:function(e){return q(e)&&Y.call(e,"callee")&&!Z.call(e,"callee")},K=Array.isArray,V=L?L.isConcatSpreadable:void 0;var Q=function(e){return K(e)||X(e)||!!(V&&e&&e[V])};var ee=function e(t,r,o,i,a){var p=-1,n=t.length;for(o||(o=Q),a||(a=[]);++p<n;){var s=t[p];r>0&&o(s)?r>1?e(s,r-1,o,i,a):E(a,s):i||(a[a.length]=s)}return a};var te=function(e){return null!=e&&e.length?ee(e,1):[]};var re=function(e){for(var t=-1,r=null==e?0:e.length,o=0,i=[];++t<r;){var a=e[t];a&&(i[o++]=a)}return i};var oe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ie=function(){return D.Date.now()},ae="[object Symbol]";var pe=function(e){return"symbol"==typeof e||q(e)&&H(e)==ae},ne=NaN,se=/^\s+|\s+$/g,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,ue=parseInt;var le=function(e){if("number"==typeof e)return e;if(pe(e))return ne;if(oe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(se,"");var r=me.test(e);return r||ce.test(e)?ue(e.slice(2),r?2:8):ye.test(e)?ne:+e},de="Expected a function",ge=Math.max,fe=Math.min;var Te=function(e,t,r){var o,i,a,p,n,s,y=0,m=!1,c=!1,u=!0;if("function"!=typeof e)throw new TypeError(de);function l(t){var r=o,a=i;return o=i=void 0,y=t,p=e.apply(a,r)}function d(e){var r=e-s;return void 0===s||r>=t||r<0||c&&e-y>=a}function g(){var e=ie();if(d(e))return f(e);n=setTimeout(g,function(e){var r=t-(e-s);return c?fe(r,a-(e-y)):r}(e))}function f(e){return n=void 0,u&&o?l(e):(o=i=void 0,p)}function T(){var e=ie(),r=d(e);if(o=arguments,i=this,s=e,r){if(void 0===n)return function(e){return y=e,n=setTimeout(g,t),m?l(e):p}(s);if(c)return clearTimeout(n),n=setTimeout(g,t),l(s)}return void 0===n&&(n=setTimeout(g,t)),p}return t=le(t)||0,oe(r)&&(m=!!r.leading,a=(c="maxWait"in r)?ge(le(r.maxWait)||0,t):a,u="trailing"in r?!!r.trailing:u),T.cancel=function(){void 0!==n&&clearTimeout(n),y=0,o=s=i=n=void 0},T.flush=function(){return void 0===n?p:f(ie())},T};var Pe=function(e){return e};var Fe=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},he=Math.max;var ve=function(e,t,r){return t=he(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=he(o.length-t,0),p=Array(a);++i<a;)p[i]=o[t+i];i=-1;for(var n=Array(t+1);++i<t;)n[i]=o[i];return n[t]=r(p),Fe(e,this,n)}};var be=function(e){return function(){return e}},Se="[object AsyncFunction]",we="[object Function]",Oe="[object GeneratorFunction]",_e="[object Proxy]";var Ee=function(e){if(!oe(e))return!1;var t=H(e);return t==we||t==Oe||t==Se||t==_e},je=D["__core-js_shared__"],ke=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var xe=function(e){return!!ke&&ke in e},De=Function.prototype.toString;var Le=function(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ae=/^\[object .+?Constructor\]$/,Ce=Function.prototype,Re=Object.prototype,ze=Ce.toString,Be=Re.hasOwnProperty,Me=RegExp("^"+ze.call(Be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ge=function(e){return!(!oe(e)||xe(e))&&(Ee(e)?Me:Ae).test(Le(e))};var Ie=function(e,t){return null==e?void 0:e[t]};var Ne=function(e,t){var r=Ie(e,t);return Ge(r)?r:void 0},Ue=function(){try{var e=Ne(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),He=Ue?function(e,t){return Ue(e,"toString",{configurable:!0,enumerable:!1,value:be(t),writable:!0})}:Pe,qe=800,We=16,$e=Date.now;var Je=function(e){var t=0,r=0;return function(){var o=$e(),i=We-(o-r);if(r=o,i>0){if(++t>=qe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(He);var Ye=function(e,t){return Je(ve(e,t,Pe),e+"")};var Ze=function(e,t){for(var r=-1,o=null==e?0:e.length,i=0,a=[];++r<o;){var p=e[r];t(p,r,e)&&(a[i++]=p)}return a};var Xe=function(e,t){for(var r=-1,o=null==e?0:e.length,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i};var Ke=function(e){return function(t){return null==t?void 0:t[e]}};var Ve=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o},Qe=9007199254740991;var et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Qe};var tt=function(e){return null!=e&&et(e.length)&&!Ee(e)};var rt=function(e){return q(e)&&tt(e)},ot=Math.max;var it,at,pt=Ye(function(e){if(!e||!e.length)return[];var t=0;return e=Ze(e,function(e){if(rt(e))return t=ot(e.length,t),!0}),Ve(t,function(t){return Xe(e,Ke(t))})}),nt={blob:{"heatmap-color":null,"heatmap-weight":1,"heatmap-radius":["interpolate",["exponential",2],["zoom"],0,40,16,10240],"heatmap-intensity":["interpolate",["exponential",2],["zoom"],0,.003,16,.048],"heatmap-intensity-transition":{duration:0,delay:0}},gridded:{"fill-color":null},extruded:{"fill-extrusion-color":null,"fill-extrusion-height":0}};function st(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var yt,mt="HEATMAP",ct="https://fst-tiles-jzzp2ui3wq-uc.a.run.app/v1/",ut="https://__fast_tiles__/{z}/{x}/{y}",lt=function(e){return Math.floor(new Date(e).getTime()/1e3/60/60/24)},dt=lt("2019-01-01T00:00:00.000Z"),gt={BLOB:"blob",GRIDDED:"gridded",EXTRUDED:"extruded"},ft=((it={})[gt.BLOB]="heatmap",it[gt.GRIDDED]="fill",it[gt.EXTRUDED]="fill-extrusion",it),Tt={FISHING:"fishing",PRESENCE:"presence",RECEPTION:"reception"},Pt=((at={})[Tt.FISHING]=["rgba(12, 39, 108, 0)","rgb(12, 39, 108)","#3B9088","#EEFF00","#ffffff"],at[Tt.PRESENCE]=["rgba(12, 39, 108, 0)","rgb(12, 39, 108)","#114685","#00ffc3","#ffffff"],at[Tt.RECEPTION]=["rgba(255, 69, 115, 0)","rgb(255, 69, 115)","#7b2e8d","#093b76","#0c276c"],at),Ft=function(e,t){var r=new Date(e).getTime()/1e3/60/60/24,o=new Date(t).getTime()/1e3/60/60/24;return Math.round(o-r)},ht=function(e,t){return lt(e)-t},vt=function(){return function(e){var t=this,r=e.fastTilesAPI,a=void 0===r?ct:r;this.type=mt,this.loadingStats=!1,this.quantizeOffset=0,this.delta=0,this.stats={max:30,min:1,median:2},this._getServerSideFilters=function(e,t,r,o){void 0===e&&(e=""),void 0===o&&(o=!1);var i=[];return e&&i.push(e),o&&(i.push("timestamp > '"+t.slice(0,19).replace("T"," ")+"'"),i.push("timestamp < '"+r.slice(0,19).replace("T"," ")+"'")),i.join(" AND ")},this._fetchStats=function(e,t){var r;void 0===t&&(t=st);var o,i=[],a=!1;return function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];return a&&r===this&&t(p,i)?o:(o=e.apply(this,p),a=!0,r=this,i=p,o)}}(function(e,r,o,i){t.loadingStats=!0;var a=new URL(""+e+r+"/statistics/"+o);return i&&a.searchParams.set("filters",i),fetch(a.toString()).then(function(e){return e.json()}).then(function(e){var r=e.min-.001,o=e.median,i=e.max+.001;t.stats={min:r,median:o,max:i},t.loadingStats=!1})}),this._getStyleSources=function(e){if(!e.start||!e.end||!e.tileset)throw new Error("Heatmap generator must specify start, end and tileset parameters in "+e);var r=e.geomType||gt.GRIDDED,o=new URL(ut);return o.searchParams.set("tileset",e.tileset),o.searchParams.set("geomType",r),o.searchParams.set("fastTilesAPI",t.fastTilesAPI),o.searchParams.set("quantizeOffset",t.quantizeOffset.toString()),o.searchParams.set("delta",t.delta.toString()),!0===e.singleFrame&&(o.searchParams.set("singleFrame",e.singleFrame.toString()),o.searchParams.set("start",e.start)),e.serverSideFilter&&o.searchParams.set("serverSideFilters",t._getServerSideFilters(e.serverSideFilter,e.start,e.end,e.updateColorRampOnTimeChange)),[{id:e.id,type:"vector",tiles:[decodeURI(o.toString())]}]},this._getHeatmapLayers=function(e){var r,a=e.geomType||gt.GRIDDED,p=e.colorRamp||Tt.PRESENCE,n=(e.colorRampMult||1)*t.delta,y=t.stats.median-t.stats.min+.001,m=t.stats.max-t.stats.min+.002,c=y+(m-y)/2,u=[0,t.stats.min,t.stats.min+y*n,t.stats.min+c*n,t.stats.min+m*n],l=Pt[p],d=pt(u,l),g=te(d),f=ht(e.start,t.quantizeOffset),T=e.singleFrame?"value":f.toString(),P=["to-number",["get",T]],F=s(["interpolate",["linear"],P],g),h=i({},nt[a]);switch(a){case gt.GRIDDED:h["fill-color"]=F;break;case gt.EXTRUDED:h["fill-extrusion-color"]=F;var v=e.zoom?1/Math.ceil(e.zoom):1,b=te(pt(u,[0,1e4*v,15e4*v,3e5*v,5e5*v]));h["fill-extrusion-height"]=s(["interpolate",["linear"],P],b);break;case gt.BLOB:h["heatmap-weight"]=P;var S=te(pt([0,.005,.1,.3,1],l));h["heatmap-color"]=s(["interpolate",["linear"],["heatmap-density"]],S),h["heatmap-opacity"]=e.opacity||1}d=d.map(function(e,t){var o=e[0],i=e[1],a=Math.round;0===t&&(a=Math.floor),4===t&&(a=Math.ceil);var p=o?a(o):0;return t>0&&r===p?p=0:r=p,[p,i]});var w=e&&e.visible?"visible":"none";return[{id:e.id,source:e.id,"source-layer":e.tileset,type:ft[a],layout:{visibility:w},paint:h,metadata:{legend:d,currentlyAt:T,group:o.Heatmap}}]},this._getStyleLayers=function(e){if(!0!==e.fetchStats)return{layers:t._getHeatmapLayers(e)};var r=t._getServerSideFilters(e.serverSideFilter,e.start,e.end,e.updateColorRampOnTimeChange),o=t._fetchStats(t.fastTilesAPI,e.tileset,Math.floor(e.zoom),r),i=t._getHeatmapLayers(e);return!1===t.loadingStats?{layers:i}:{layers:i,promise:new Promise(function(r){o.then(function(){r(t.getStyle(e))})})}},this._updateDelta=function(e){var r=Ft(e.start,e.end);return r===t.delta?null:(t.currentSetDeltaDebounced&&t.currentSetDeltaDebounced.cancel(),new Promise(function(o){t.currentSetDeltaDebounced=Te(function(){t.delta=r,o(t.getStyle(e))},400),t.currentSetDeltaDebounced()}))},this._setDelta=Te(this._updateDelta,1e3),this.getStyle=function(e){t.delta||(t.delta=Ft(e.start,e.end)),t.quantizeOffset=e.quantizeOffset||dt,!0===e.singleFrame&&(t.quantizeOffset=e.start);var r=t._getStyleLayers(e),o=r.layers,i=r.promise,a=t._updateDelta(e),p=re([i,a]);return{id:e.id,sources:t._getStyleSources(e),layers:o,promises:p}},this.fastTilesAPI=a}}(),bt={BASEMAP:P,CARTO_POLYGONS:S,BACKGROUND:c,GL:h,HEATMAP_TYPE:mt},St=((yt={})[c]=new u,yt[P]=new F,yt[h]=new v,yt[S]=new _({baseUrl:w}),yt[mt]=new vt({}),yt),wt=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach(function(r){if(e[r]&&e[r].length){var o=Object.fromEntries(e[r].map(function(e){return[e.id,a(e,["id"])]}));t=i(i({},t),o)}else t[r]=e[r]}),t},Ot={version:8,glyphs:"https://raw.githubusercontent.com/GlobalFishingWatch/map-gl-glyphs/master/_output/{fontstack}/{range}.pbf?raw=true",sprite:"https://raw.githubusercontent.com/GlobalFishingWatch/map-gl-sprites/master/out/sprites"},_t=function(){function e(e){var t=this;this._getGeneratedLayerSource=function(e){return Object.fromEntries(e.filter(function(e){return e.sources&&e.sources.length}).map(function(e){return[e.id,e.sources]}))},this._getGeneratedLayerLayers=function(e){return Object.fromEntries(e.filter(function(e){return e.layers&&e.layers.length}).map(function(e){return[e.id,e.layers]}))},this._getGeneratedLayer=function(e){if(!t.generators[e.type])throw new Error("There is no generator loaded for the layer: "+e+"}");return t.generators[e.type].getStyle(e)},this.getGLStyle=function(e){if(!e)return console.warn("No layers passed to layer manager"),{style:t._getStyleJson()};var r=[],o=e.map(function(e){var o=t._getGeneratedLayer(e),i=o.promise,p=o.promises,n=a(o,["promise","promises"]),s=[];return i?s=[i]:p&&(s=p),r=r.concat(s),n}),i=t._getGeneratedLayerSource(o),p=t._getGeneratedLayerLayers(o);t.latestGenerated={sourcesStyle:i,layersStyle:p};var n=r.map(function(e){return e.then(function(e){var r=e.id,o=e.sources,i=e.layers,a=t.latestGenerated,p=a.sourcesStyle,n=a.layersStyle;return p[r]=o,n[r]=i,{style:t._getStyleJson(p,n),layer:e}})});return{style:t._getStyleJson(i,p),promises:n}},this.version=e&&e.version||Ot.version,this.glyphs=e&&e.glyphs||Ot.glyphs,this.sprite=e&&e.sprite||Ot.sprite,this.generators=e&&e.generators||St,this.latestGenerated={}}return e.prototype._getStyleJson=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{version:this.version,glyphs:this.glyphs,sprite:this.sprite,sources:wt(e),layers:(r=t,void 0===r&&(r={}),Object.values(r).flatMap(function(e){return e}))};var r},e}(),Et=[o.Background,o.Basemap,o.Heatmap,o.BasemapFill,o.OutlinePolygons,o.Default,o.Point,o.Track,o.BasemapForeground,o.Label,o.Overlay],jt=(o.Basemap,o.OutlinePolygons,o.Point,o.Track,o.BasemapForeground,o.Overlay,function(e){var t,r=i({},e);return r.layers=null===(t=r.layers)||void 0===t?void 0:t.sort(function(e,t){var r,i,a=(null===(r=e.metadata)||void 0===r?void 0:r.group)||o.Default,p=(null===(i=t.metadata)||void 0===i?void 0:i.group)||o.Default;return Et.indexOf(a)-Et.indexOf(p)}),r});t.d=_t}).call(this,r(16))}},[[28,1,2]]]);
//# sourceMappingURL=main.398bd74c.chunk.js.map